<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        function getNum(num) {
            let arr = num.split('.')
            return [parseInt(arr.slice(0, 3).join()), arr.slice(3, 4), parseInt(arr.slice(4))]
        }

        function getIndex(str) {
            let model = ['patch', 'minor', 'major ', 'alpha', 'beta', 'rc']
            return model.indexOf(str)
        }

        function piece(a) {
            let s1 = 0
            s1 += a[0]
            if (a[1] !== undefined || a[1] !== NaN || a[1] !== null) {
                let num = getIndex('str')
                if (num !== -1) {
                    s1 += num
                } else {
                    s1 += 0
                }
            } else {
                s1 += 0
            }
            if (a[2] !== undefined || a[2] !== NaN || a[2] !== null) {
                s1 += a[2]
            } else {
                s1 += 0
            }
        }

        function compare(a, b) {
            // 你的代码
            let v1 = getNum(a)
            let v2 = getNum(b)
            let s1 = piece(v1),
                s2 = piece(v2)
            if (s1 > s2) {
                return 1
            } else if (s1 < s2) {
                return -1
            } else {
                return 0
            }

        }


        // 最终效果是执行
        compare('1.2.3', '1.2.4')
        console.log(compare('1.3.0.alpha.1', '1.3.0.alpha.3'))
    </script>
</body>

</html>